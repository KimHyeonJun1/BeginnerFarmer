<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.farm.diary.DiaryMapper">




<!-- 관찰일지 목록조회 -->
<select id="getListOfDiary" resultType="diary">
select * 
from (select row_number() over(order by root, step desc) no, name, n.*
	 from diary n left outer join member m on m.userid = n.writer
	 <include refid="whereSearch"/>) n
where no between #{beginList} and #{endList}
order by no desc
</select>
</mapper>